<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Lessons for the Materials Project Workshop"><link href=https://workshop.materialsproject.org/lessons/05_automated_dft/Lesson/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.2.1, mkdocs-material-7.1.8"><title>Automated DFT - The Materials Project Workshop</title><link rel=stylesheet href=../../../assets/stylesheets/main.ca7ac06f.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.f1a3b89f.min.css><meta name=theme-color content=#546d78><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/workshop.css><link rel=stylesheet href=../../../css/ansi-colours.css><link rel=stylesheet href=../../../css/jupyter-cells.css><link rel=stylesheet href=../../../css/pandas-dataframe.css></head> <body dir=ltr data-md-color-scheme data-md-color-primary=blue-grey data-md-color-accent> <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#automated-dft class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="The Materials Project Workshop" class="md-header__button md-logo" aria-label="The Materials Project Workshop" data-md-component=logo> <img src=../../../assets/materials_project_logo_white.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> The Materials Project Workshop </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Automated DFT </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/materialsproject/workshop/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="The Materials Project Workshop" class="md-nav__button md-logo" aria-label="The Materials Project Workshop" data-md-component=logo> <img src=../../../assets/materials_project_logo_white.svg alt=logo> </a> The Materials Project Workshop </label> <div class=md-nav__source> <a href=https://github.com/materialsproject/workshop/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../../logistics/logistics/ class=md-nav__link> Logistics </a> </li> <li class=md-nav__item> <a href=../../../people/people/ class=md-nav__link> People </a> </li> <li class=md-nav__item> <a href=../../../code_of_conduct/ class=md-nav__link> Code of Conduct </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Primer <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Primer data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Primer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../primer/01_basic_python/0%20-%20Introduction%20and%20Jupyter%20Use/ class=md-nav__link> Intro </a> </li> <li class=md-nav__item> <a href=../../../primer/01_basic_python/1%20-%20Python%20Primer/ class=md-nav__link> Basic Python </a> </li> <li class=md-nav__item> <a href=../../../primer/02_building_logic/2%20-%20Python%20Primer%20-%20Part%20II/ class=md-nav__link> Advanced Python </a> </li> <li class=md-nav__item> <a href=../../../primer/03_MongoDB_part1/lessons/ class=md-nav__link> Intro to MongoDB </a> </li> <li class=md-nav__item> <a href=../../../primer/04_MongoDB_part2/lesson/ class=md-nav__link> Advanced MongoDB </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6> Workshop <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Workshop data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Workshop </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_1 type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1> Day 1 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Day 1" data-md-level=2> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> Day 1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../01_website_walkthrough/website_walkthrough/ class=md-nav__link> The Materials Project Website </a> </li> <li class=md-nav__item> <a href=../../02_intro_pymatgen/1%20-%20pymatgen%20foundations/ class=md-nav__link> Intro to Pymatgen </a> </li> <li class=md-nav__item> <a href=../../03_surfaces/Working%20With%20Surfaces_lesson/ class=md-nav__link> Working with Surfaces </a> </li> <li class=md-nav__item> <a href=../../04_materials_api/api_use/ class=md-nav__link> The Materials API </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2 checked> <label class=md-nav__link for=__nav_6_2> Day 2 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Day 2" data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Day 2 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Automated DFT <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Automated DFT </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#core-concepts class=md-nav__link> Core Concepts </a> </li> <li class=md-nav__item> <a href=#lesson-1-using-pymatgen-io class=md-nav__link> Lesson 1: Using Pymatgen IO </a> <nav class=md-nav aria-label="Lesson 1: Using Pymatgen IO"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vasp-inputs class=md-nav__link> VASP Inputs </a> </li> <li class=md-nav__item> <a href=#vasp-outputs class=md-nav__link> VASP Outputs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#lesson-2-input-sets class=md-nav__link> Lesson 2: Input Sets </a> <nav class=md-nav aria-label="Lesson 2: Input Sets"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#storing-input-sets class=md-nav__link> Storing Input Sets </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#lesson-3-automating-dft-with-atomate class=md-nav__link> Lesson 3: Automating DFT with Atomate </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../06_new_systems/06%20-%20New%20Systems%20-%20filled/ class=md-nav__link> Exploring New Systems </a> </li> <li class=md-nav__item> <a href=../../07_mpcontribs/contribute/ class=md-nav__link> MPContribs </a> </li> <li class=md-nav__item> <a href=../../08_ml_matminer/matminer-notes/ class=md-nav__link> Machine Learning with MatMiner </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#core-concepts class=md-nav__link> Core Concepts </a> </li> <li class=md-nav__item> <a href=#lesson-1-using-pymatgen-io class=md-nav__link> Lesson 1: Using Pymatgen IO </a> <nav class=md-nav aria-label="Lesson 1: Using Pymatgen IO"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vasp-inputs class=md-nav__link> VASP Inputs </a> </li> <li class=md-nav__item> <a href=#vasp-outputs class=md-nav__link> VASP Outputs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#lesson-2-input-sets class=md-nav__link> Lesson 2: Input Sets </a> <nav class=md-nav aria-label="Lesson 2: Input Sets"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#storing-input-sets class=md-nav__link> Storing Input Sets </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#lesson-3-automating-dft-with-atomate class=md-nav__link> Lesson 3: Automating DFT with Atomate </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/materialsproject/workshop/edit/master/docs/lessons/05_automated_dft/Lesson.ipynb title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <script src=https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js></script> <script>
(function() {
  function addWidgetsRenderer() {
    var mimeElement = document.querySelector('script[type="application/vnd.jupyter.widget-view+json"]');
    var scriptElement = document.createElement('script');
    var widgetRendererSrc = 'https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js';
    var widgetState;

    // Fallback for older version:
    try {
      widgetState = mimeElement && JSON.parse(mimeElement.innerHTML);

      if (widgetState && (widgetState.version_major < 2 || !widgetState.version_major)) {
        widgetRendererSrc = 'jupyter-js-widgets@*/dist/embed.js';
      }
    } catch(e) {}

    scriptElement.src = widgetRendererSrc;
    document.body.appendChild(scriptElement);
  }

  document.addEventListener('DOMContentLoaded', addWidgetsRenderer);
}());
</script> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h1 id=automated-dft>Automated DFT<a class=headerlink href=#automated-dft title="Permanent link">&para;</a></h1> <p>This lesson focuses on key concepts necessary to run automated Density Functional Theory (DFT) workflows using our atomate code. We begin by focusing on using pymatgen to build inputs and parsing outputs of DFT calculations. We then build an understanding of <code>InputSets</code> in pymatgen, a key capability to automate running DFT. We finally go through a demonstration of using atomate.</p> <h2 id=core-concepts>Core Concepts<a class=headerlink href=#core-concepts title="Permanent link">&para;</a></h2> <ul> <li><strong>Input/Output</strong> - There is an enitre module in pymatgen devoted to reading and writing the input and output files of other codes</li> <li><strong>Input Sets</strong> - Standardizing the input options to various codes allows for repeatability and automatically generitng inputs for a new calculation</li> <li><strong>Atomate</strong> - This is a set of automated recipes for computing materials and molecular properties using density functional theory</li> </ul> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=lesson-1-using-pymatgen-io>Lesson 1: Using Pymatgen IO<a class=headerlink href=#lesson-1-using-pymatgen-io title="Permanent link">&para;</a></h2> <p>For the first lesson we'll focus on using pymatgen to interface with DFT codes in the most simple way possible. Pymatgen has a IO module which is designed to have methods to parse and write files that are compatible with a number of external codes. These include:</p> <ul> <li>AbInit</li> <li>EXCITING</li> <li>FEFF</li> <li>LAMMPS</li> <li>Lobster</li> <li>QChem</li> <li>VASP</li> <li>ATAT</li> <li>Gaussian</li> <li>NWCHem</li> <li>ShengBTE</li> <li>Wannier90</li> <li>Zeo++</li> </ul> <p>For the purpose of this tutorial, we'll focus on using VASP and QChem as these are the primary DFT codes used by the Materials Project.</p> <h3 id=vasp-inputs>VASP Inputs<a class=headerlink href=#vasp-inputs title="Permanent link">&para;</a></h3> <p>Let's beging by reading some VASP inputs for an Al-Cr alloy structure:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>pymatgen.core.structure</span> <span class=kn>import</span> <span class=n>Structure</span>
<span class=n>struc</span> <span class=o>=</span> <span class=n>Structure</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s2>&quot;Al16Cr10.cif&quot;</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>This is a CIF file which is not compatible with many DFT codes. Each code has its own input structure. Next, we'll make a POSCAR file which is the way structures are represented in VASP</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>pymatgen.io.vasp.inputs</span> <span class=kn>import</span> <span class=n>Poscar</span>

<span class=n>poscar</span> <span class=o>=</span> <span class=n>Poscar</span><span class=p>(</span><span class=n>structure</span><span class=o>=</span><span class=n>struc</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>poscar</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>Al16 Cr10
1.0
7.417988 0.000000 -2.655322
-3.770804 6.388081 -2.655321
0.000000 0.000000 7.878914
Al Cr
16 10
direct
0.696455 0.696455 0.696455 Al
0.646563 0.002044 0.646563 Al
0.646563 0.646563 0.002044 Al
0.002044 0.646563 0.646563 Al
0.336523 0.558569 0.336523 Al
0.336523 0.336523 0.558569 Al
0.558569 0.336523 0.336523 Al
0.734771 0.383622 0.734771 Al
0.734771 0.734771 0.383622 Al
0.383622 0.734771 0.734771 Al
0.280797 0.666745 0.038053 Al
0.038053 0.280797 0.666745 Al
0.666745 0.038053 0.280797 Al
0.666745 0.280797 0.038053 Al
0.038053 0.666745 0.280797 Al
0.280797 0.038053 0.666745 Al
0.151124 0.151124 0.151124 Cr
0.015343 0.797266 0.015343 Cr
0.015343 0.015343 0.797266 Cr
0.797266 0.015343 0.015343 Cr
0.987828 0.333690 0.987828 Cr
0.987828 0.987828 0.333690 Cr
0.333690 0.987828 0.987828 Cr
0.365023 0.015932 0.365023 Cr
0.365023 0.365023 0.015932 Cr
0.015932 0.365023 0.365023 Cr

</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Note that this POSCAR object has a method that lets you write it out as a file. This makes it very easy to construct complex structures such as heterostructures or adsorbates on surfaces and write them out to compute using a DFT code like VASP.</p> <p>For the purpose of this example, we've provided a completed VASP calculation under <code>VASP_Al16Cr10_example</code>. Let's use pymatgen to read the inputs in this directory</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>poscar</span> <span class=o>=</span> <span class=n>Poscar</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s2>&quot;./VASP_Al16Cr10_example//POSCAR.gz&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>poscar</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>Al16 Cr10
1.0
7.430657 -0.067234 -2.618797
-3.680038 6.455734 -2.618797
-0.039473 -0.067234 7.878528
Al Cr
16 10
direct
0.696455 0.696455 0.696455 Al
0.646563 0.002044 0.646563 Al
0.646563 0.646563 0.002044 Al
0.002044 0.646563 0.646563 Al
0.336523 0.558569 0.336523 Al
0.336523 0.336523 0.558569 Al
0.558569 0.336523 0.336523 Al
0.734771 0.383622 0.734771 Al
0.734771 0.734771 0.383622 Al
0.383622 0.734771 0.734771 Al
0.280797 0.666745 0.038053 Al
0.038053 0.280797 0.666745 Al
0.666745 0.038053 0.280797 Al
0.666745 0.280797 0.038053 Al
0.038053 0.666745 0.280797 Al
0.280797 0.038053 0.666745 Al
0.151124 0.151124 0.151124 Cr
0.015343 0.797266 0.015343 Cr
0.015343 0.015343 0.797266 Cr
0.797266 0.015343 0.015343 Cr
0.987828 0.333690 0.987828 Cr
0.987828 0.987828 0.333690 Cr
0.333690 0.987828 0.987828 Cr
0.365023 0.015932 0.365023 Cr
0.365023 0.365023 0.015932 Cr
0.015932 0.365023 0.365023 Cr

</code>
</pre> </div> </div> <div class=output_area> <div class="output_subarea output_stream output_stderr output_text"> <pre>
<code>/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/pymatgen/io/vasp/inputs.py:1792: UnknownPotcarWarning: POTCAR with symbol Al has metadata that does not match                          any VASP POTCAR known to pymatgen. The data in this                          POTCAR is known to match the following functionals:                          [&#39;PBE&#39;]
  warnings.warn(
/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/pymatgen/io/vasp/inputs.py:1792: UnknownPotcarWarning: POTCAR with symbol Cr_pv has metadata that does not match                          any VASP POTCAR known to pymatgen. The data in this                          POTCAR is known to match the following functionals:                          [&#39;PBE&#39;]
  warnings.warn(
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>In this POSCAR object there is a full pymatgen Structure we can grab and use pythonically if we have a manipulation we want to apply. </p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>poscar</span><span class=o>.</span><span class=n>structure</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>Structure Summary
Lattice
    abc : 7.878913731575819 7.87891356009247 7.878913756049688
 angles : 109.69518778724338 109.69519443176935 109.69518691661757
 volume : 373.35579693687976
      A : 7.430657 -0.067234 -2.618797
      B : -3.680038 6.455734 -2.618797
      C : -0.039473 -0.067234 7.878528
PeriodicSite: Al (2.5846, 4.4025, 1.8393) [0.6965, 0.6965, 0.6965]
PeriodicSite: Al (4.7713, -0.0737, 3.3954) [0.6466, 0.0020, 0.6466]
PeriodicSite: Al (2.4249, 4.1304, -3.3703) [0.6466, 0.6466, 0.0020]
PeriodicSite: Al (-2.3897, 4.1304, 3.3954) [0.0020, 0.6466, 0.6466]
PeriodicSite: Al (0.4317, 3.5607, 0.3072) [0.3365, 0.5586, 0.3365]
PeriodicSite: Al (1.2401, 2.1123, 2.6381) [0.3365, 0.3365, 0.5586]
PeriodicSite: Al (2.8988, 2.1123, 0.3072) [0.5586, 0.3365, 0.3365]
PeriodicSite: Al (4.0191, 2.3778, 2.8601) [0.7348, 0.3836, 0.7348]
PeriodicSite: Al (2.7407, 4.6683, -0.8261) [0.7348, 0.7348, 0.3836]
PeriodicSite: Al (0.1176, 4.6683, 2.8601) [0.3836, 0.7348, 0.7348]
PeriodicSite: Al (-0.3686, 4.2829, -2.1816) [0.2808, 0.6667, 0.0381]
PeriodicSite: Al (-0.7769, 1.7654, 4.4180) [0.0381, 0.2808, 0.6667]
PeriodicSite: Al (4.8032, 0.1820, 0.3665) [0.6667, 0.0381, 0.2808]
PeriodicSite: Al (3.9195, 1.7654, -2.1816) [0.6667, 0.2808, 0.0381]
PeriodicSite: Al (-2.1820, 4.2829, 0.3665) [0.0381, 0.6667, 0.2808]
PeriodicSite: Al (1.9202, 0.1820, 4.4180) [0.2808, 0.0381, 0.6667]
PeriodicSite: Cr (0.5608, 0.9553, 0.3991) [0.1511, 0.1511, 0.1511]
PeriodicSite: Cr (-2.8206, 5.1449, -2.0072) [0.0153, 0.7973, 0.0153]
PeriodicSite: Cr (0.0261, 0.0444, 6.2009) [0.0153, 0.0153, 0.7973]
PeriodicSite: Cr (5.8671, 0.0444, -2.0072) [0.7973, 0.0153, 0.0153]
PeriodicSite: Cr (6.0732, 2.0214, 4.3218) [0.9878, 0.3337, 0.9878]
PeriodicSite: Cr (3.6918, 6.2883, -2.5449) [0.9878, 0.9878, 0.3337]
PeriodicSite: Cr (-1.1947, 6.2883, 4.3218) [0.3337, 0.9878, 0.9878]
PeriodicSite: Cr (2.6393, 0.0538, 1.8782) [0.3650, 0.0159, 0.3650]
PeriodicSite: Cr (1.3684, 2.3309, -1.7863) [0.3650, 0.3650, 0.0159]
PeriodicSite: Cr (-1.2393, 2.3309, 1.8782) [0.0159, 0.3650, 0.3650]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>VASP has three other primary input files: KPOINTS, POTCAR, and INCAR. Each of these has a corresponding object. Each of these can read and write the corresponding VASP Files. Let's read the inputs in the <code>Al16Cr10_VASP</code> directory included in this lesson. Let's look at the POTCAR file next.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>pymatgen.io.vasp.inputs</span> <span class=kn>import</span> <span class=n>Potcar</span>

<span class=n>al_cr_potcar</span> <span class=o>=</span> <span class=n>Potcar</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s2>&quot;./VASP_Al16Cr10_example/POTCAR.gz&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>al_cr_potcar</span><span class=o>.</span><span class=n>symbols</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>[&#39;Al&#39;, &#39;Cr_pv&#39;]
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Note the above warning suggesting something is wrong with these POTCARs. We maintain a list of hashes of VASP POTCARs to ensure the data is not corrupted when VASP is run. For the purpose of this lesson, we've included fake POTCARs as the offical POTCARs are licensed by VASP. You can always check the hash of your own POTCARs by investigating the <code>spec</code> of the Potcar object.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=nb>print</span><span class=p>(</span><span class=n>al_cr_potcar</span><span class=o>.</span><span class=n>spec</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>[{&#39;symbol&#39;: &#39;Al&#39;, &#39;hash&#39;: &#39;a6fd9a46aec185f4ad2acd0cbe4ae2fa&#39;}, {&#39;symbol&#39;: &#39;Cr_pv&#39;, &#39;hash&#39;: &#39;eb23364cc25164418f9f79efd8f04f7d&#39;}]
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=vasp-outputs>VASP Outputs<a class=headerlink href=#vasp-outputs title="Permanent link">&para;</a></h3> <p>Once, you've run VASP, you'll need to parse the VASP outputs to get the data you want. VASP makes a number of output files: </p> <ul> <li>WAVECAR</li> <li>CHGCAR</li> <li>OUTCAR</li> <li>vasprun.xml</li> <li>PROCAR</li> <li>And more ...</li> </ul> <p>Please read the <a href=https://www.vasp.at/wiki/index.php/The_VASP_Manual>VASP documentation</a> for a good description of what these all are. For this lesson. We'll focus on <code>vasprun.xml</code> in the <code>Al16Cr10_vasp</code> directory. The Vasprun contains a lot information that can be parsed using the <code>Vasprun</code> object in pymatgen</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>pymatgen.io.vasp.outputs</span> <span class=kn>import</span> <span class=n>Vasprun</span>

<span class=n>vrun</span> <span class=o>=</span> <span class=n>Vasprun</span><span class=p>(</span><span class=n>filename</span><span class=o>=</span><span class=s2>&quot;./VASP_Al16Cr10_example/vasprun.xml.gz&quot;</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Since VASPRUN has most of the information that VASP can provide, this one object is often enough to parse a full VASP calculation. The various properties available from the VASPRUN are properties in the <code>Vasprun</code> object. Use Shift+Tab to look through all the properties and try some out</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>vrun</span><span class=o>.</span><span class=n>vasp_version</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>&#39;5.4.4.18Apr17-6-g9f103f2a35&#39;</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We can see what actual kpoints VASP used when it auto-generated it's mesh to run DFT on:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>vrun</span><span class=o>.</span><span class=n>actual_kpoints</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>[[0.0, 0.0, 0.0],
 [0.33333333, -0.0, -0.0],
 [0.0, 0.33333333, 0.0],
 [0.33333333, 0.33333333, 0.0],
 [-0.33333333, 0.33333333, 0.0],
 [0.0, -0.0, 0.33333333],
 [0.33333333, -0.0, 0.33333333],
 [-0.33333333, 0.0, 0.33333333],
 [0.0, 0.33333333, 0.33333333],
 [0.33333333, 0.33333333, 0.33333333],
 [-0.33333333, 0.33333333, 0.33333333],
 [-0.0, -0.33333333, 0.33333333],
 [0.33333333, -0.33333333, 0.33333333],
 [-0.33333333, -0.33333333, 0.33333333]]</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We can also look at the final energy</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>vrun</span><span class=o>.</span><span class=n>final_energy</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>-157.80974238</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Or even the progress of VASP as it optimized the structure</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=nb>len</span><span class=p>(</span><span class=n>vrun</span><span class=o>.</span><span class=n>ionic_steps</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>4</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Each ionic step contains the energy, forces, stress, the structure</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>vrun</span><span class=o>.</span><span class=n>ionic_steps</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>keys</span><span class=p>()</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>dict_keys([&#39;e_fr_energy&#39;, &#39;e_wo_entrp&#39;, &#39;e_0_energy&#39;, &#39;forces&#39;, &#39;stress&#39;, &#39;electronic_steps&#39;, &#39;structure&#39;])</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=lesson-2-input-sets>Lesson 2: Input Sets<a class=headerlink href=#lesson-2-input-sets title="Permanent link">&para;</a></h2> <p>This lesson will focus on using <code>InputSets</code>. These are objects that provide default parameters to perform a specific kind of calcualtion. There are several <code>InputSets</code> that are default MP parameters, but it's also possible to define your own <code>InputSet</code> that lets you build new calculations using the parameters you want. </p> <p>Let's begin by taking the Al-Cr structure and making a simple input set to optimize this structure</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>pymatgen.io.vasp.sets</span> <span class=kn>import</span> <span class=n>MPRelaxSet</span>

<span class=n>relax_set</span> <span class=o>=</span> <span class=n>MPRelaxSet</span><span class=p>(</span><span class=n>structure</span><span class=o>=</span><span class=n>struc</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>relax_set</span><span class=o>.</span><span class=n>incar</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>ALGO = Fast
EDIFF = 0.0013000000000000002
ENCUT = 520
IBRION = 2
ISIF = 3
ISMEAR = -5
ISPIN = 2
LASPH = True
LORBIT = 11
LREAL = Auto
LWAVE = False
MAGMOM = 16*0.6 10*5.0
NELM = 100
NSW = 99
PREC = Accurate
SIGMA = 0.05

</code>
</pre> </div> </div> <div class=output_area> <div class="output_subarea output_stream output_stderr output_text"> <pre>
<code>/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/pymatgen/io/vasp/sets.py:592: BadInputSetWarning: Relaxation of likely metal with ISMEAR &lt; 1 detected. Please see VASP recommendations on ISMEAR for metals.
  warnings.warn(
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We can see that the input set has pre-set values for a number of parameters. Some of these such as <code>ALGO</code> and <code>IBRION</code> just tell VASP what kind of calculation to perform, but other such as <code>EDIFF</code>, <code>ENCUT,</code> and <code>MAGMOM</code> are structure specific. The <code>MPRelaxSet</code>, which is designed to optimize a structure, has default MP parameters that make the resulting structure compataible with MP data. </p> <p>Many DFT calculations actually extend from a previous calculation. For instance, it's often desireable to perform a static calculation from a previous relaxation calculation. <code>InputSet</code>s for these types of calculations have <code>classmethod</code> that lets you automatically construct the next calculation input set from the output of a previous calculation.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>pymatgen.io.vasp.sets</span> <span class=kn>import</span> <span class=n>MPStaticSet</span>
<span class=n>static_set</span> <span class=o>=</span> <span class=n>MPStaticSet</span><span class=o>.</span><span class=n>from_prev_calc</span><span class=p>(</span><span class=s2>&quot;./VASP_Al16Cr10_example/&quot;</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>static_set</span><span class=o>.</span><span class=n>incar</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>ALGO = Normal
EDIFF = 0.0013
ENCUT = 520.0
IBRION = -1
ICHARG = 1
ISIF = 3
ISMEAR = -5
ISPIN = 2
KPOINT_BSE = -1 0 0 0
LAECHG = True
LCHARG = True
LORBIT = 11
LREAL = Auto
LVHAR = True
LWAVE = False
MAGMOM = 1*0.013 3*-0.012 3*-0.022 3*-0.01 2*-0.019 1*-0.018 2*-0.019 1*-0.018 1*0.487 1*-0.501 1*-0.505 1*-0.5 1*0.99 1*0.967 1*0.968 1*1.509 1*1.532 1*1.536
NELM = 100
NSW = 0
PREC = accurate
SIGMA = 0.05

</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Notice how the <code>MAGMOM</code> list is very different for this calculation. <code>MAGMOM</code> is the set of magnetic moments that VASP is using both as its input and its writing in its output. Because the magnetic moment and the charge density are closely related, the new lowest energy configuration is actually not the nice Ferromagnetic configuration that was put into the initial relaxation calculation but a newer more complex configuration with much lower overall magnetic moment. </p> <p>Other inputs are a function of the InputSet is designed to do. The <code>MPRelaxSet</code> is designed to be a structure optimization that balances accuracy and computational cost. The <code>MPstaticSet</code> on the other hand is designed to increase the accuracy once an optimized structure is found to get a good charge density and DFT energy. The result is that these two sets produce different K-point densities as shown next.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>relax_set</span><span class=o>.</span><span class=n>kpoints</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>pymatgen with grid density = 1106 / number of atoms
0
Gamma
3 3 3</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>static_set</span><span class=o>.</span><span class=n>kpoints</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>Automatic kpoint scheme
0
Gamma
4 4 4</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=storing-input-sets>Storing Input Sets<a class=headerlink href=#storing-input-sets title="Permanent link">&para;</a></h3> <p>InputSet objects follow the <code>MSONable</code> pattern used heavily in pymatgen. This means that an InputSet with a structure or molecules can be converted to a dictionary and then stored in a database, which is very useful for running high throughput calculations or workflows. </p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>relax_set</span><span class=o>.</span><span class=n>as_dict</span><span class=p>()</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>{&#39;@module&#39;: &#39;pymatgen.io.vasp.sets&#39;,
 &#39;@class&#39;: &#39;MPRelaxSet&#39;,
 &#39;@version&#39;: None,
 &#39;structure&#39;: {&#39;@module&#39;: &#39;pymatgen.core.structure&#39;,
  &#39;@class&#39;: &#39;Structure&#39;,
  &#39;charge&#39;: None,
  &#39;lattice&#39;: {&#39;matrix&#39;: [[7.4179879378990465, 0.0, -2.6553223002051487],
    [-3.7708043655287886, 6.388081220096889, -2.6553213832427804],
    [0.0, 0.0, 7.87891376]],
   &#39;a&#39;: 7.87891373,
   &#39;b&#39;: 7.87891356,
   &#39;c&#39;: 7.87891376,
   &#39;alpha&#39;: 109.69518779,
   &#39;beta&#39;: 109.69519443,
   &#39;gamma&#39;: 109.69518692000001,
   &#39;volume&#39;: 373.3557970242865},
  &#39;sites&#39;: [{&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.696455, 0.696455, 0.696455],
    &#39;xyz&#39;: [2.540099234895128, 4.449011106142579, 1.7886845361650723],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.646563, 0.002044, 0.646563],
    &#39;xyz&#39;: [4.78848901096868, 0.01305723801387804, 3.37195348811199],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.646563, 0.646563, 0.002044],
    &#39;xyz&#39;: [2.3581339521024316, 4.130296957909505, -3.4175612121757033],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.002044, 0.646563, 0.646563],
    &#39;xyz&#39;: [-2.4229002156443245, 4.130296957909505, 3.3719540791116587],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.336523, 0.558569, 0.336523],
    &#39;xyz&#39;: [0.390069131176551, 3.568184139028299, 0.27467845910800637],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.336523, 0.336523, 0.558569],
    &#39;xyz&#39;: [1.2273611573247563, 2.1497362564306655, 2.6137632357244924],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.558569, 0.336523, 0.336523],
    &#39;xyz&#39;: [2.8744957069834878, 2.1497362564306655, 0.2746782555001802],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.734771, 0.383622, 0.734771],
    &#39;xyz&#39;: [4.0039589028051354, 2.450608493816009, 2.8195038208225602],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.734771, 0.734771, 0.383622],
    &#39;xyz&#39;: [2.6798447206540668, 4.693776826171811, -0.8795823154919983],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.383622, 0.734771, 0.734771],
    &#39;xyz&#39;: [0.07502567424875488, 4.693776826171811, 2.819504142812979],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.280797, 0.666745, 0.038053],
    &#39;xyz&#39;: [-0.4312161976962538, 4.2592212130935, -2.216212486291633],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.038053, 0.280797, 0.666745],
    &#39;xyz&#39;: [-0.7765538584265149, 1.7937540423595462, 4.406577096971071],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.666745, 0.038053, 0.280797],
    &#39;xyz&#39;: [4.8024159491330325, 0.2430856546683469, 0.3409095354199006],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.666745, 0.280797, 0.038053],
    &#39;xyz&#39;: [3.8870758142271122, 1.7937540423595462, -2.216212840191425],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.038053, 0.666745, 0.280797],
    &#39;xyz&#39;: [-2.2318882616936198, 4.2592212130935, 0.3409101119068059],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Al&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.280797, 0.038053, 0.666745],
    &#39;xyz&#39;: [1.9394583404767716, 0.2430856546683469, 4.4065768743839575],
    &#39;label&#39;: &#39;Al&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Cr&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.151124, 0.151124, 0.151124],
    &#39;xyz&#39;: [0.5511769701908827, 0.9653923863059223, 0.3881272470488551],
    &#39;label&#39;: &#39;Cr&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Cr&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.015343, 0.797266, 0.015343],
    &#39;xyz&#39;: [-2.89251992435649, 5.092999962021766, -2.036851894164806],
    &#39;label&#39;: &#39;Cr&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Cr&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.015343, 0.015343, 0.797266],
    &#39;xyz&#39;: [0.055958737550876866, 0.09801233015994656, 6.200108851745019],
    &#39;label&#39;: &#39;Cr&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Cr&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.797266, 0.015343, 0.015343],
    &#39;xyz&#39;: [5.856254119916713, 0.09801233015994656, -2.036852611158772],
    &#39;label&#39;: &#39;Cr&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Cr&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.987828, 0.33369, 0.987828],
    &#39;xyz&#39;: [6.069416479985638, 2.1316388223341307, 4.2739557121719445],
    &#39;label&#39;: &#39;Cr&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Cr&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.987828, 0.987828, 0.33369],
    &#39;xyz&#39;: [3.602790053927367, 6.31032549548587, -2.6168877959586014],
    &#39;label&#39;: &#39;Cr&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Cr&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.33369, 0.987828, 0.987828],
    &#39;xyz&#39;: [-1.2495977397940399, 6.31032549548587, 4.273956311991874],
    &#39;label&#39;: &#39;Cr&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Cr&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.365023, 0.015932, 0.365023],
    &#39;xyz&#39;: [2.647659755904119, 0.10177490999858364, 1.8644264451508719],
    &#39;label&#39;: &#39;Cr&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Cr&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.365023, 0.365023, 0.015932],
    &#39;xyz&#39;: [1.3313058891373089, 2.3317965712034265, -1.8129802352388935],
    &#39;label&#39;: &#39;Cr&#39;,
    &#39;properties&#39;: {}},
   {&#39;species&#39;: [{&#39;element&#39;: &#39;Cr&#39;, &#39;occu&#39;: 1.0}],
    &#39;abc&#39;: [0.015932, 0.365023, 0.365023],
    &#39;xyz&#39;: [-1.2582469380918073, 2.3317965712034265, 1.864426765254182],
    &#39;label&#39;: &#39;Cr&#39;,
    &#39;properties&#39;: {}}]}}</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=lesson-3-automating-dft-with-atomate>Lesson 3: Automating DFT with Atomate<a class=headerlink href=#lesson-3-automating-dft-with-atomate title="Permanent link">&para;</a></h2> <p>The final section of this lesson focuses on automating DFT using our <code>atomate</code> code. <code>atomate</code> is a set of recipes for computing properties for both molecules and structures. The workflows in <code>atomate</code> run on <code>fireworks</code>, our workflow management software. <code>fireworks</code> stores workflow information and calculation summaries in MongoDB. Using this infrastructure MP routinely manages 10,000 simultaneous calculations on supercomputers such as Cori at NERSC. </p> <p>Let's begin by importing a basic silicon structure</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>pymatgen.core.structure</span> <span class=kn>import</span> <span class=n>Structure</span>
<span class=n>si</span> <span class=o>=</span> <span class=n>Structure</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s2>&quot;Si.CIF&quot;</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Now, we'll make a workflow to optimize our structure</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>atomate.vasp.workflows</span> <span class=kn>import</span> <span class=n>wf_structure_optimization</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stderr output_text"> <pre>
<code>/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/maggma/utils.py:20: TqdmExperimentalWarning: Using `tqdm.autonotebook.tqdm` in notebook mode. Use `tqdm.tqdm` instead to force console mode (e.g. in jupyter console)
  from tqdm.autonotebook import tqdm
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>wf</span> <span class=o>=</span> <span class=n>wf_structure_optimization</span><span class=p>(</span><span class=n>structure</span><span class=o>=</span><span class=n>si</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>wf</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>Workflow object: (fw_ids: odict_keys([-1]) , name: Si)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Fireworks doesn't tell us much about the workflow, but we can tell there is only one firework. A firework is a single job for a supercomputer, involving usually just a few DFT calculations. Let's use a more complex example to illustrate how easy this is. Let's compute the full bandstructure for Silicon</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>atomate.vasp.workflows</span> <span class=kn>import</span> <span class=n>wf_bandstructure</span>

<span class=n>wf</span> <span class=o>=</span> <span class=n>wf_bandstructure</span><span class=p>(</span><span class=n>structure</span><span class=o>=</span><span class=n>si</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>wf</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>Workflow object: (fw_ids: odict_keys([-2, -3, -4, -5]) , name: Si)
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Now we can see there are a low more fireworks in this workflow, but its still hard to tell what is going on. Let's start by looking at the whole workflow as a graph.</p> <p>We'll use a function built for this workshop to plot what the workflow looks like.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>mp_workshop.atomate</span> <span class=kn>import</span> <span class=n>wf_to_graph</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>wf_to_graph</span><span class=p>(</span><span class=n>wf</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_text output_error"> <pre>
<span class=ansi-red-fg>---------------------------------------------------------------------------</span>
<span class=ansi-red-fg>FileNotFoundError</span>                         Traceback (most recent call last)
<span class=ansi-green-fg>/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/graphviz/backend.py</span> in <span class=ansi-cyan-fg>run</span><span class=ansi-blue-fg>(cmd, input, capture_output, check, encoding, quiet, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    169</span>     <span class=ansi-green-fg>try</span><span class=ansi-blue-fg>:</span>
<span class=ansi-green-fg>--&gt; 170</span><span class=ansi-red-fg>         </span>proc <span class=ansi-blue-fg>=</span> subprocess<span class=ansi-blue-fg>.</span>Popen<span class=ansi-blue-fg>(</span>cmd<span class=ansi-blue-fg>,</span> startupinfo<span class=ansi-blue-fg>=</span>get_startupinfo<span class=ansi-blue-fg>(</span><span class=ansi-blue-fg>)</span><span class=ansi-blue-fg>,</span> <span class=ansi-blue-fg>**</span>kwargs<span class=ansi-blue-fg>)</span>
<span class="ansi-green-intense-fg ansi-bold">    171</span>     <span class=ansi-green-fg>except</span> OSError <span class=ansi-green-fg>as</span> e<span class=ansi-blue-fg>:</span>

<span class=ansi-green-fg>/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/subprocess.py</span> in <span class=ansi-cyan-fg>__init__</span><span class=ansi-blue-fg>(self, args, bufsize, executable, stdin, stdout, stderr, preexec_fn, close_fds, shell, cwd, env, universal_newlines, startupinfo, creationflags, restore_signals, start_new_session, pass_fds, encoding, errors, text)</span>
<span class="ansi-green-intense-fg ansi-bold">    857</span> 
<span class=ansi-green-fg>--&gt; 858</span><span class=ansi-red-fg>             self._execute_child(args, executable, preexec_fn, close_fds,
</span><span class="ansi-green-intense-fg ansi-bold">    859</span>                                 pass_fds<span class=ansi-blue-fg>,</span> cwd<span class=ansi-blue-fg>,</span> env<span class=ansi-blue-fg>,</span>

<span class=ansi-green-fg>/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/subprocess.py</span> in <span class=ansi-cyan-fg>_execute_child</span><span class=ansi-blue-fg>(self, args, executable, preexec_fn, close_fds, pass_fds, cwd, env, startupinfo, creationflags, shell, p2cread, p2cwrite, c2pread, c2pwrite, errread, errwrite, restore_signals, start_new_session)</span>
<span class="ansi-green-intense-fg ansi-bold">   1703</span>                         err_msg <span class=ansi-blue-fg>=</span> os<span class=ansi-blue-fg>.</span>strerror<span class=ansi-blue-fg>(</span>errno_num<span class=ansi-blue-fg>)</span>
<span class=ansi-green-fg>-&gt; 1704</span><span class=ansi-red-fg>                     </span><span class=ansi-green-fg>raise</span> child_exception_type<span class=ansi-blue-fg>(</span>errno_num<span class=ansi-blue-fg>,</span> err_msg<span class=ansi-blue-fg>,</span> err_filename<span class=ansi-blue-fg>)</span>
<span class="ansi-green-intense-fg ansi-bold">   1705</span>                 <span class=ansi-green-fg>raise</span> child_exception_type<span class=ansi-blue-fg>(</span>err_msg<span class=ansi-blue-fg>)</span>

<span class=ansi-red-fg>FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;dot&#39;

The above exception was the direct cause of the following exception:

<span class=ansi-red-fg>ExecutableNotFound</span>                        Traceback (most recent call last)
<span class=ansi-green-fg>/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/IPython/core/formatters.py</span> in <span class=ansi-cyan-fg>__call__</span><span class=ansi-blue-fg>(self, obj)</span>
<span class="ansi-green-intense-fg ansi-bold">    343</span>             method <span class=ansi-blue-fg>=</span> get_real_method<span class=ansi-blue-fg>(</span>obj<span class=ansi-blue-fg>,</span> self<span class=ansi-blue-fg>.</span>print_method<span class=ansi-blue-fg>)</span>
<span class="ansi-green-intense-fg ansi-bold">    344</span>             <span class=ansi-green-fg>if</span> method <span class=ansi-green-fg>is</span> <span class=ansi-green-fg>not</span> <span class=ansi-green-fg>None</span><span class=ansi-blue-fg>:</span>
<span class=ansi-green-fg>--&gt; 345</span><span class=ansi-red-fg>                 </span><span class=ansi-green-fg>return</span> method<span class=ansi-blue-fg>(</span><span class=ansi-blue-fg>)</span>
<span class="ansi-green-intense-fg ansi-bold">    346</span>             <span class=ansi-green-fg>return</span> <span class=ansi-green-fg>None</span>
<span class="ansi-green-intense-fg ansi-bold">    347</span>         <span class=ansi-green-fg>else</span><span class=ansi-blue-fg>:</span>

<span class=ansi-green-fg>/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/graphviz/files.py</span> in <span class=ansi-cyan-fg>_repr_svg_</span><span class=ansi-blue-fg>(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    139</span> 
<span class="ansi-green-intense-fg ansi-bold">    140</span>     <span class=ansi-green-fg>def</span> _repr_svg_<span class=ansi-blue-fg>(</span>self<span class=ansi-blue-fg>)</span><span class=ansi-blue-fg>:</span>
<span class=ansi-green-fg>--&gt; 141</span><span class=ansi-red-fg>         </span><span class=ansi-green-fg>return</span> self<span class=ansi-blue-fg>.</span>pipe<span class=ansi-blue-fg>(</span>format<span class=ansi-blue-fg>=</span><span class=ansi-blue-fg>&#39;svg&#39;</span><span class=ansi-blue-fg>)</span><span class=ansi-blue-fg>.</span>decode<span class=ansi-blue-fg>(</span>self<span class=ansi-blue-fg>.</span>_encoding<span class=ansi-blue-fg>)</span>
<span class="ansi-green-intense-fg ansi-bold">    142</span> 
<span class="ansi-green-intense-fg ansi-bold">    143</span>     <span class=ansi-green-fg>def</span> pipe<span class=ansi-blue-fg>(</span>self<span class=ansi-blue-fg>,</span> format<span class=ansi-blue-fg>=</span><span class=ansi-green-fg>None</span><span class=ansi-blue-fg>,</span> renderer<span class=ansi-blue-fg>=</span><span class=ansi-green-fg>None</span><span class=ansi-blue-fg>,</span> formatter<span class=ansi-blue-fg>=</span><span class=ansi-green-fg>None</span><span class=ansi-blue-fg>,</span> quiet<span class=ansi-blue-fg>=</span><span class=ansi-green-fg>False</span><span class=ansi-blue-fg>)</span><span class=ansi-blue-fg>:</span>

<span class=ansi-green-fg>/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/graphviz/files.py</span> in <span class=ansi-cyan-fg>pipe</span><span class=ansi-blue-fg>(self, format, renderer, formatter, quiet)</span>
<span class="ansi-green-intense-fg ansi-bold">    164</span>         data <span class=ansi-blue-fg>=</span> self<span class=ansi-blue-fg>.</span>source<span class=ansi-blue-fg>.</span>encode<span class=ansi-blue-fg>(</span>self<span class=ansi-blue-fg>.</span>_encoding<span class=ansi-blue-fg>)</span>
<span class="ansi-green-intense-fg ansi-bold">    165</span> 
<span class=ansi-green-fg>--&gt; 166</span><span class=ansi-red-fg>         out = backend.pipe(self._engine, format, data,
</span><span class="ansi-green-intense-fg ansi-bold">    167</span>                            renderer<span class=ansi-blue-fg>=</span>renderer<span class=ansi-blue-fg>,</span> formatter<span class=ansi-blue-fg>=</span>formatter<span class=ansi-blue-fg>,</span>
<span class="ansi-green-intense-fg ansi-bold">    168</span>                            quiet=quiet)

<span class=ansi-green-fg>/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/graphviz/backend.py</span> in <span class=ansi-cyan-fg>pipe</span><span class=ansi-blue-fg>(engine, format, data, renderer, formatter, quiet)</span>
<span class="ansi-green-intense-fg ansi-bold">    266</span>     &#34;&#34;&#34;
<span class="ansi-green-intense-fg ansi-bold">    267</span>     cmd<span class=ansi-blue-fg>,</span> _ <span class=ansi-blue-fg>=</span> command<span class=ansi-blue-fg>(</span>engine<span class=ansi-blue-fg>,</span> format<span class=ansi-blue-fg>,</span> <span class=ansi-green-fg>None</span><span class=ansi-blue-fg>,</span> renderer<span class=ansi-blue-fg>,</span> formatter<span class=ansi-blue-fg>)</span>
<span class=ansi-green-fg>--&gt; 268</span><span class=ansi-red-fg>     </span>out<span class=ansi-blue-fg>,</span> _ <span class=ansi-blue-fg>=</span> run<span class=ansi-blue-fg>(</span>cmd<span class=ansi-blue-fg>,</span> input<span class=ansi-blue-fg>=</span>data<span class=ansi-blue-fg>,</span> capture_output<span class=ansi-blue-fg>=</span><span class=ansi-green-fg>True</span><span class=ansi-blue-fg>,</span> check<span class=ansi-blue-fg>=</span><span class=ansi-green-fg>True</span><span class=ansi-blue-fg>,</span> quiet<span class=ansi-blue-fg>=</span>quiet<span class=ansi-blue-fg>)</span>
<span class="ansi-green-intense-fg ansi-bold">    269</span>     <span class=ansi-green-fg>return</span> out
<span class="ansi-green-intense-fg ansi-bold">    270</span> 

<span class=ansi-green-fg>/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/graphviz/backend.py</span> in <span class=ansi-cyan-fg>run</span><span class=ansi-blue-fg>(cmd, input, capture_output, check, encoding, quiet, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    171</span>     <span class=ansi-green-fg>except</span> OSError <span class=ansi-green-fg>as</span> e<span class=ansi-blue-fg>:</span>
<span class="ansi-green-intense-fg ansi-bold">    172</span>         <span class=ansi-green-fg>if</span> e<span class=ansi-blue-fg>.</span>errno <span class=ansi-blue-fg>==</span> errno<span class=ansi-blue-fg>.</span>ENOENT<span class=ansi-blue-fg>:</span>
<span class=ansi-green-fg>--&gt; 173</span><span class=ansi-red-fg>             </span><span class=ansi-green-fg>raise</span> ExecutableNotFound<span class=ansi-blue-fg>(</span>cmd<span class=ansi-blue-fg>)</span> <span class=ansi-green-fg>from</span> e
<span class="ansi-green-intense-fg ansi-bold">    174</span>         <span class=ansi-green-fg>else</span><span class=ansi-blue-fg>:</span>
<span class="ansi-green-intense-fg ansi-bold">    175</span>             <span class=ansi-green-fg>raise</span>

<span class=ansi-red-fg>ExecutableNotFound</span>: failed to execute &#39;dot&#39;, make sure the Graphviz executables are on your systems&#39; PATH</pre> </div> </div> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>&lt;graphviz.dot.Digraph at 0x7ff737307ca0&gt;</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>This is clearly a more complex workflow with an intermediate step to compute the full bandstructore of Si both along the special high-symmetry lines in Brillouin zone and with a uniform grid.</p> <p>To make this workshop more usefull, we've provided a set of fake VASP input and outputs and a helper function that will let atomate "run" these calculations. In reality, these take a lot more CPU time and a License to VASP, which we can't provide in this workshop. Let's use that fake VASP utility to "run" this workflow.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>mp_workshop.atomate</span> <span class=kn>import</span> <span class=n>use_fake_vasp_workshop</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Now lets run the above workflow. First we have to add this to our LaunchPad. Fireworks hides the database with an object called a LaunchPad. This allows you to submit and query workflows from anywhere you have database access. We need to get ourselves a LaunchPad object so we can submit our workflow</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>fireworks</span> <span class=kn>import</span> <span class=n>LaunchPad</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>lp</span> <span class=o>=</span> <span class=n>LaunchPad</span><span class=o>.</span><span class=n>auto_load</span><span class=p>()</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>For this one time, we have to initialize the database. In everyday use, we'll only need to do this once, upon database creation.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>lp</span><span class=o>.</span><span class=n>reset</span><span class=p>(</span><span class=n>password</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span><span class=n>require_password</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>2021-07-28 21:38:48,198 INFO Performing db tune-up
2021-07-28 21:38:48,306 INFO LaunchPad was RESET.
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>wf</span> <span class=o>=</span> <span class=n>use_fake_vasp_workshop</span><span class=p>(</span><span class=n>wf</span><span class=p>)</span>
<span class=n>lp</span><span class=o>.</span><span class=n>add_wf</span><span class=p>(</span><span class=n>wf</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>2021-07-28 21:38:48,322 INFO Added a workflow. id_map: {-5: 1, -4: 2, -3: 3, -2: 4}
</code>
</pre> </div> </div> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>{-5: 1, -4: 2, -3: 3, -2: 4}</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Now let's see what the status of our workflow is in the LaunchPad</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>lp</span><span class=o>.</span><span class=n>get_wf_summary_dict</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_text output_subarea output_execute_result"> <pre>
<code>{&#39;state&#39;: &#39;READY&#39;,
 &#39;name&#39;: &#39;Si&#39;,
 &#39;created_on&#39;: datetime.datetime(2021, 7, 28, 21, 38, 48, 92000),
 &#39;updated_on&#39;: datetime.datetime(2021, 7, 28, 21, 38, 48, 92000),
 &#39;states&#39;: OrderedDict([(&#39;Si-nscf line--1&#39;, &#39;WAITING&#39;),
              (&#39;Si-nscf uniform--2&#39;, &#39;WAITING&#39;),
              (&#39;Si-static--3&#39;, &#39;WAITING&#39;),
              (&#39;Si-structure optimization--4&#39;, &#39;READY&#39;)]),
 &#39;launch_dirs&#39;: OrderedDict([(&#39;Si-nscf line--1&#39;, []),
              (&#39;Si-nscf uniform--2&#39;, []),
              (&#39;Si-static--3&#39;, []),
              (&#39;Si-structure optimization--4&#39;, [])])}</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Normally we don't run these calculation in a notebook, but rather on a supercomputer. We use a command called <code>qlaunch</code> to automatically submit to the supercomputer to run. We can also run them locally using the command <code>rlaunch</code>. Let's check how we'd use it.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=err>!</span><span class=n>rlaunch</span> <span class=o>--</span><span class=n>help</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>FW Echo Test: MP Workshop
usage: rlaunch [-h] [-l LAUNCHPAD_FILE] [-w FWORKER_FILE] [-c CONFIG_DIR]
               [--loglvl LOGLVL] [-s]
               {singleshot,rapidfire,multi} ...

This program launches one or more Rockets. A Rocket retrieves a job from the
central database and runs it. The &#34;single-shot&#34; option launches a single
Rocket, whereas the &#34;rapidfire&#34; option loops until all FireWorks are
completed.

positional arguments:
  {singleshot,rapidfire,multi}
                        command
    singleshot          launch a single Rocket
    rapidfire           launch multiple Rockets (loop until all FireWorks
                        complete)
    multi               launches multiple Rockets simultaneously

optional arguments:
  -h, --help            show this help message and exit
  -l LAUNCHPAD_FILE, --launchpad_file LAUNCHPAD_FILE
                        path to launchpad file
  -w FWORKER_FILE, --fworker_file FWORKER_FILE
                        path to fworker file
  -c CONFIG_DIR, --config_dir CONFIG_DIR
                        path to a directory containing the config file (used
                        if -l, -w unspecified)
  --loglvl LOGLVL       level to print log messages
  -s, --silencer        shortcut to mute log messages
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Let's run one job in rapidfire mode</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=err>!</span><span class=n>rlaunch</span> <span class=n>rapidfire</span> <span class=o>--</span><span class=n>nlaunches</span> <span class=mi>1</span>
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>FW Echo Test: MP Workshop
2021-07-28 21:38:49,460 INFO Hostname/IP lookup (this will take a few seconds)
2021-07-28 21:38:51,078 INFO Created new dir /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-51-077971
2021-07-28 21:38:51,078 INFO Launching Rocket
2021-07-28 21:38:51,103 INFO RUNNING fw_id: 4 in directory: /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-51-077971
2021-07-28 21:38:51,112 INFO Task started: FileWriteTask.
2021-07-28 21:38:51,112 INFO Task completed: FileWriteTask 
2021-07-28 21:38:51,114 INFO Task started: {{atomate.vasp.firetasks.write_inputs.WriteVaspFromIOSet}}.
2021-07-28 21:38:51,243 INFO Task completed: {{atomate.vasp.firetasks.write_inputs.WriteVaspFromIOSet}} 
2021-07-28 21:38:51,246 INFO Task started: {{atomate.vasp.firetasks.run_calc.RunVaspFake}}.
2021-07-28 21:38:51,247 INFO atomate.vasp.firetasks.run_calc RunVaspFake: verified inputs successfully
2021-07-28 21:38:51,254 INFO atomate.vasp.firetasks.run_calc RunVaspFake: ran fake VASP, generated outputs
2021-07-28 21:38:51,254 INFO Task completed: {{atomate.vasp.firetasks.run_calc.RunVaspFake}} 
2021-07-28 21:38:51,256 INFO Task started: {{atomate.common.firetasks.glue_tasks.PassCalcLocs}}.
2021-07-28 21:38:51,256 INFO Task completed: {{atomate.common.firetasks.glue_tasks.PassCalcLocs}} 
2021-07-28 21:38:51,258 INFO Task started: {{atomate.vasp.firetasks.parse_outputs.VaspToDb}}.
2021-07-28 21:38:51,258 INFO atomate.vasp.firetasks.parse_outputs PARSING DIRECTORY: /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-51-077971
2021-07-28 21:38:51,259 INFO atomate.vasp.drones Getting task doc for base dir :/home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-51-077971
/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/pymatgen/io/vasp/inputs.py:1792: UnknownPotcarWarning: POTCAR with symbol Si has metadata that does not match                          any VASP POTCAR known to pymatgen. The data in this                          POTCAR is known to match the following functionals:                          [&#39;PBE&#39;]
  warnings.warn(
2021-07-28 21:38:51,932 INFO atomate.vasp.drones Post-processing dir:/home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-51-077971
2021-07-28 21:38:51,933 WARNING atomate.vasp.drones Transformations file does not exist.
2021-07-28 21:38:51,933 INFO atomate.vasp.drones Post-processed /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-51-077971
2021-07-28 21:38:51,993 INFO atomate.utils.database Inserting fv-az198-120.gjkxsqtjg41etoza45cw35jkyb.bx.internal.cloudapp.net:/home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-51-077971 with taskid = 1
2021-07-28 21:38:52,003 INFO atomate.vasp.firetasks.parse_outputs Finished parsing with task_id: 1
2021-07-28 21:38:52,003 INFO Task completed: {{atomate.vasp.firetasks.parse_outputs.VaspToDb}} 
2021-07-28 21:38:52,022 INFO Rocket finished
</code>
</pre> </div> </div> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Try running with <code>nlaunches</code> unset and see what happens</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=err>!</span><span class=n>rlaunch</span> <span class=n>rapidfire</span> 
</code></pre></div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_subarea output_stream output_stdout output_text"> <pre>
<code>FW Echo Test: MP Workshop
2021-07-28 21:38:53,383 INFO Hostname/IP lookup (this will take a few seconds)
2021-07-28 21:38:54,993 INFO Created new dir /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-54-992916
2021-07-28 21:38:54,993 INFO Launching Rocket
2021-07-28 21:38:55,008 INFO RUNNING fw_id: 3 in directory: /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-54-992916
2021-07-28 21:38:55,014 INFO Task started: FileWriteTask.
2021-07-28 21:38:55,014 INFO Task completed: FileWriteTask 
2021-07-28 21:38:55,016 INFO Task started: {{atomate.vasp.firetasks.glue_tasks.CopyVaspOutputs}}.
2021-07-28 21:38:55,023 INFO Task completed: {{atomate.vasp.firetasks.glue_tasks.CopyVaspOutputs}} 
2021-07-28 21:38:55,025 INFO Task started: {{atomate.vasp.firetasks.write_inputs.WriteVaspStaticFromPrev}}.
/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/pymatgen/io/vasp/inputs.py:1792: UnknownPotcarWarning: POTCAR with symbol Si has metadata that does not match                          any VASP POTCAR known to pymatgen. The data in this                          POTCAR is known to match the following functionals:                          [&#39;PBE&#39;]
  warnings.warn(
2021-07-28 21:38:55,397 INFO Task completed: {{atomate.vasp.firetasks.write_inputs.WriteVaspStaticFromPrev}} 
2021-07-28 21:38:55,400 INFO Task started: {{atomate.vasp.firetasks.run_calc.RunVaspFake}}.
2021-07-28 21:38:55,401 INFO atomate.vasp.firetasks.run_calc RunVaspFake: verified inputs successfully
2021-07-28 21:38:55,412 INFO atomate.vasp.firetasks.run_calc RunVaspFake: ran fake VASP, generated outputs
2021-07-28 21:38:55,412 INFO Task completed: {{atomate.vasp.firetasks.run_calc.RunVaspFake}} 
2021-07-28 21:38:55,414 INFO Task started: {{atomate.common.firetasks.glue_tasks.PassCalcLocs}}.
2021-07-28 21:38:55,414 INFO Task completed: {{atomate.common.firetasks.glue_tasks.PassCalcLocs}} 
2021-07-28 21:38:55,416 INFO Task started: {{atomate.vasp.firetasks.parse_outputs.VaspToDb}}.
2021-07-28 21:38:55,416 INFO atomate.vasp.firetasks.parse_outputs PARSING DIRECTORY: /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-54-992916
2021-07-28 21:38:55,416 INFO atomate.vasp.drones Getting task doc for base dir :/home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-54-992916
2021-07-28 21:38:56,144 INFO atomate.vasp.drones Post-processing dir:/home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-54-992916
2021-07-28 21:38:56,145 WARNING atomate.vasp.drones Transformations file does not exist.
2021-07-28 21:38:56,310 INFO atomate.vasp.drones Post-processed /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-54-992916
2021-07-28 21:38:56,316 INFO atomate.utils.database Inserting fv-az198-120.gjkxsqtjg41etoza45cw35jkyb.bx.internal.cloudapp.net:/home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-54-992916 with taskid = 2
2021-07-28 21:38:56,324 INFO atomate.vasp.firetasks.parse_outputs Finished parsing with task_id: 2
2021-07-28 21:38:56,325 INFO Task completed: {{atomate.vasp.firetasks.parse_outputs.VaspToDb}} 
2021-07-28 21:38:56,343 INFO Rocket finished
2021-07-28 21:38:56,346 INFO Created new dir /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-56-346863
2021-07-28 21:38:56,347 INFO Launching Rocket
2021-07-28 21:38:56,360 INFO RUNNING fw_id: 1 in directory: /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-56-346863
2021-07-28 21:38:56,365 INFO Task started: FileWriteTask.
2021-07-28 21:38:56,365 INFO Task completed: FileWriteTask 
2021-07-28 21:38:56,367 INFO Task started: {{atomate.vasp.firetasks.glue_tasks.CopyVaspOutputs}}.
2021-07-28 21:38:56,432 INFO Task completed: {{atomate.vasp.firetasks.glue_tasks.CopyVaspOutputs}} 
2021-07-28 21:38:56,435 INFO Task started: {{atomate.vasp.firetasks.write_inputs.WriteVaspNSCFFromPrev}}.
/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/pymatgen/symmetry/kpath.py:163: UserWarning: &#39;magmom&#39; entry found in site properties but will be ignored                   for the Setyawan and Curtarolo convention.
  warn(
/opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages/pymatgen/symmetry/kpath.py:179: UserWarning: The input structure does not match the expected standard primitive! The path can be incorrect. Use at your own risk.
  warn(
2021-07-28 21:38:56,949 INFO Task completed: {{atomate.vasp.firetasks.write_inputs.WriteVaspNSCFFromPrev}} 
2021-07-28 21:38:56,951 INFO Task started: {{atomate.vasp.firetasks.run_calc.RunVaspFake}}.
2021-07-28 21:38:56,952 INFO atomate.vasp.firetasks.run_calc RunVaspFake: verified inputs successfully
2021-07-28 21:38:56,956 INFO atomate.vasp.firetasks.run_calc RunVaspFake: ran fake VASP, generated outputs
2021-07-28 21:38:56,956 INFO Task completed: {{atomate.vasp.firetasks.run_calc.RunVaspFake}} 
2021-07-28 21:38:56,958 INFO Task started: {{atomate.common.firetasks.glue_tasks.PassCalcLocs}}.
2021-07-28 21:38:56,959 INFO Task completed: {{atomate.common.firetasks.glue_tasks.PassCalcLocs}} 
2021-07-28 21:38:56,960 INFO Task started: {{atomate.vasp.firetasks.parse_outputs.VaspToDb}}.
2021-07-28 21:38:56,961 INFO atomate.vasp.firetasks.parse_outputs PARSING DIRECTORY: /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-56-346863
2021-07-28 21:38:56,961 INFO atomate.vasp.drones Getting task doc for base dir :/home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-56-346863
2021-07-28 21:38:57,367 INFO atomate.vasp.drones Post-processing dir:/home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-56-346863
2021-07-28 21:38:57,367 WARNING atomate.vasp.drones Transformations file does not exist.
2021-07-28 21:38:57,454 INFO atomate.vasp.drones Post-processed /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-56-346863
2021-07-28 21:38:57,460 INFO atomate.utils.database Inserting fv-az198-120.gjkxsqtjg41etoza45cw35jkyb.bx.internal.cloudapp.net:/home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-56-346863 with taskid = 3
2021-07-28 21:38:57,510 INFO atomate.vasp.firetasks.parse_outputs Finished parsing with task_id: 3
2021-07-28 21:38:57,510 INFO Task completed: {{atomate.vasp.firetasks.parse_outputs.VaspToDb}} 
2021-07-28 21:38:57,523 INFO Rocket finished
2021-07-28 21:38:57,526 INFO Created new dir /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-57-526759
2021-07-28 21:38:57,526 INFO Launching Rocket
2021-07-28 21:38:57,540 INFO RUNNING fw_id: 2 in directory: /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-57-526759
2021-07-28 21:38:57,544 INFO Task started: FileWriteTask.
2021-07-28 21:38:57,544 INFO Task completed: FileWriteTask 
2021-07-28 21:38:57,546 INFO Task started: {{atomate.vasp.firetasks.glue_tasks.CopyVaspOutputs}}.
2021-07-28 21:38:57,612 INFO Task completed: {{atomate.vasp.firetasks.glue_tasks.CopyVaspOutputs}} 
2021-07-28 21:38:57,615 INFO Task started: {{atomate.vasp.firetasks.write_inputs.WriteVaspNSCFFromPrev}}.
2021-07-28 21:38:57,971 INFO Task completed: {{atomate.vasp.firetasks.write_inputs.WriteVaspNSCFFromPrev}} 
2021-07-28 21:38:57,973 INFO Task started: {{atomate.vasp.firetasks.run_calc.RunVaspFake}}.
2021-07-28 21:38:57,974 INFO atomate.vasp.firetasks.run_calc RunVaspFake: verified inputs successfully
2021-07-28 21:38:57,978 INFO atomate.vasp.firetasks.run_calc RunVaspFake: ran fake VASP, generated outputs
2021-07-28 21:38:57,978 INFO Task completed: {{atomate.vasp.firetasks.run_calc.RunVaspFake}} 
2021-07-28 21:38:57,981 INFO Task started: {{atomate.common.firetasks.glue_tasks.PassCalcLocs}}.
2021-07-28 21:38:57,981 INFO Task completed: {{atomate.common.firetasks.glue_tasks.PassCalcLocs}} 
2021-07-28 21:38:57,983 INFO Task started: {{atomate.vasp.firetasks.parse_outputs.VaspToDb}}.
2021-07-28 21:38:57,983 INFO atomate.vasp.firetasks.parse_outputs PARSING DIRECTORY: /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-57-526759
2021-07-28 21:38:57,983 INFO atomate.vasp.drones Getting task doc for base dir :/home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-57-526759
2021-07-28 21:38:58,301 INFO atomate.vasp.drones Post-processing dir:/home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-57-526759
2021-07-28 21:38:58,301 WARNING atomate.vasp.drones Transformations file does not exist.
2021-07-28 21:38:58,475 INFO atomate.vasp.drones Post-processed /home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-57-526759
2021-07-28 21:38:58,480 INFO atomate.utils.database Inserting fv-az198-120.gjkxsqtjg41etoza45cw35jkyb.bx.internal.cloudapp.net:/home/runner/work/workshop/workshop/workshop/lessons/05_automated_dft/launcher_2021-07-28-21-38-57-526759 with taskid = 4
2021-07-28 21:38:58,535 INFO atomate.vasp.firetasks.parse_outputs Finished parsing with task_id: 4
2021-07-28 21:38:58,536 INFO Task completed: {{atomate.vasp.firetasks.parse_outputs.VaspToDb}} 
2021-07-28 21:38:58,550 INFO Rocket finished
</code>
</pre> </div> </div> </div> </div> </div> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../04_materials_api/api_use/ class="md-footer__link md-footer__link--prev" aria-label="Previous: The Materials API" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> The Materials API </div> </div> </a> <a href=../../06_new_systems/06%20-%20New%20Systems%20-%20filled/ class="md-footer__link md-footer__link--next" aria-label="Next: Exploring New Systems" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Exploring New Systems </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Built by The Materials Project </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["instant", "tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script> <script src=../../../assets/javascripts/bundle.76f349be.min.js></script> <script src=../../../assets/config.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>